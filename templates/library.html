

<div id="library" class="module" data-module="library">

  <div class="module_settings"><span>Settings</span></div>
  <div class="module_remove"><span>Remove</span></div>

  {% if library %}

    <h2>{{ title }}</h2>

    {% if message %}
      <p class="message">{{ message }}</p>
    {% endif %}

    <div class="back">&laquo;</div>

    <ul>

      {% if library.tvshows %}
        {% for item in library.tvshows %}
          <li class="get" data-command="shows/{{ item.tvshowid }}">{{ item.label }}</li>
        {% endfor %}
      {% endif %}

      {% if library.seasons %}
        {% for item in library.seasons %}
          <li class="get" data-command="shows/{{ library.tvshowid }}/{{ item.season }}">{{ item.label }}</li>
        {% endfor %}
      {% endif %}

      {% if library.episodes %}
        {% for item in library.episodes %}
          <li class="play_episode" data-episodeid="{{ item.episodeid }}" data-command="shows/{{ item.tvshowid }}/{{ item.season }}/{{ item.episodeid }}" title="{{ item.plot|truncate(200) }}">{{ item.season }}x{{ item.episode }} - {{ item.label }}</li>
        {% endfor %}
      {% endif %}

      {% if library.movies %}
        {% for item in library.movies %}
          <li class="play_movie" data-movieid="{{ item.movieid }}" data-command="movies/{{ item.movieid }}">{{ item.label }}</li>
        {% endfor %}
      {% endif %}

    </ul>

  {% else %}

    <h2>Media library</h2>

    {% if message %}
      <p class="message">{{ message }}</p>
    {% endif %}

    <ul>
      <li class="get" data-command="movies">Movies</li>
      <li class="get" data-command="shows">TV shows</li>
    </ul>

  {% endif %}

</div>
